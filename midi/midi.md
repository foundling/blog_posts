# MIDI in Your Browser

"I'm controlling,
and composing" - Kraftwerk, *Pocket Calculator*

## What is MIDI?

MIDI is short for Musical Instrument Digital Interface, a communication protocol as well as a hardware / software interface specification  that makes communication possible between MIDI-enabled digital instruments. With MIDI you can establish a network of instruments that are synced in tempo and that are able to communicate with and control each other in user-programmed ways.  

The data protocol aspect of MIDI provides a standardized message format that can be received and interpreted by any MIDI-enabled instrument.  For example, by pressing down on a MIDI keyboard's key, one could send a 'note-on' signal to its connected sound generation device (i.e. computer), where an middle C is produced using control data like note name, pitch and velocity that are generated by the key press.

The hardware specification aspect  provides a common physical format for MIDI components and includes MIDI cabling, physical ports and internal mechanisms that receive and send voltage and convert it to data in the digital domain). [This part needs work.]

Here's what the back of a MIDI device might look like:

[Image of MIDI device]()

## MIDI instruments

Common MIDI-enabled devices include keyboards, pianos, guitars and even wind instruments. Additionally, today, MIDI controllers are very common due to their low cost and portability. A MIDI controller doesn't produce any sound itself but sends MIDI data to external sound generators, where the sound can be rendered according to the control data contained in the MIDI messages. MIDI controllers can take the form of a keyboard or a grid of pads akin to what you would find on a sampler. 

## MIDI in Action

MIDI can communicate all sorts of things, such as pitch, velocity, volume and envelope information. It also communicates clock source information. In the video below, I demonstrate setting the clock source setting on a digital sampler to act as the master source of tempo and then set the clock-source on a digital keyboard to sync with the sampler. The sampler is playing a pre-programmed beat at 120 bpm and I'm playing an arpeggiated line on the MIDI-synced keyboard. Watch as I drop the tempo on the sampler: the arpeggiated tempo on the keyboard drops as well.

[Video of a MIDI network]()

## History 

Initially, MIDI provided a standard way for musicians and composers to connect keyboard-based instruments made by different manufacturers without needing extra proprietary hardware and software.  The MIDI language encodes formal parameters over time that make it possible to recreate a sound in a connected MIDI-capable sound generation device. This vastly reduces the size of data required to transmit the musical data.  Additionally, because the output sound is essentially separate from and generated using the formal MIDI data, it can be easily changed, allowing a greater control over the choice of the sound in the compositional context.

Today, the benefits are even greater. You can do your composing on an airplane with just a small MIDI controller and a laptop, you could play a MIDI flute, and with the drop in the cost of microcontrollers, it is quite within the realm of possibility to to translate weather data read from physical sensors into MIDI data and use that to generate music.


## MIDI Messages

A MIDI device can control its target device by sending MIDI messages across a MIDI cable connected from its OUT port to the target device's IN port. The MIDI messages sent are comprised of a status byte followed by 0, 1 or 2 data bytes. Since MIDI is asynchronously transmitted, it uses a start and stop bit to adjust the  instead of hard-coding it in the data itself. 

## The MIDI Hardware Interface
## The History of MIDI
## The Web Midi API

### The Interface
The Web MIDI API provides low-level access to connected MIDI devices, which provides the raw MIDI information and not what that could mean in musical terms.

To access the Web MIDI API, we need to access the `requestMIDIAccess` method on the global `navigator` object. This returns a `Promise`.  Because requesting MIDI access from the browser presents security implications, the user needs to enable web midi via a browser-prompt, although this can vary depending on the host of the browser/user agent.

### Detecting MIDI Inputs and Outputs
### Getting Information About your Midi Device
### Midi 
